<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Web to App Converter Guide</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div class="container">
        <header>
            <h1>ЁЯЪА Web to Android App (Ultimate Guide)</h1>
            <p>ржУрзЯрзЗржмрж╕рж╛ржЗржЯ ржерзЗржХрзЗ рззрзжрзж% ржПрж░рж░-ржлрзНрж░рж┐ ржЕрзНржпрж╛ржк рждрзИрж░рж┐рж░ ржХржоржкрзНрж▓рж┐ржЯ ржмрзНрж▓рзБ-ржкрзНрж░рж┐ржирзНржЯ</p>
        </header>

        <!-- PART 1 -->
        <section class="part">
            <div class="part-header">
                <h2>ЁЯЫа ржкрж╛рж░рзНржЯ рзз: ржкрзНрж░рзЛржЬрзЗржХрзНржЯ рж╕рзЗржЯржЖржк (Local PC)</h2>
            </div>
            
            <div class="step">
                <h3><span class="badge">рзз</span> ржлрзЛрж▓рзНржбрж╛рж░ ржХрзНрж▓рж┐ржиржЖржк</h3>
                <p>Master Folder ржХржкрж┐ ржХрж░рзЗ рж░рж┐ржирзЗржо ржХрж░рзБржиред VS Code ржП ржУржкрзЗржи ржХрж░рзЗ <code>.git</code> ржПржмржВ <code>.expo</code> ржлрзЛрж▓рзНржбрж╛рж░ ржбрж┐рж▓рж┐ржЯ ржХрж░рзБржиред</p>
            </div>

            <div class="step">
                <h3><span class="badge">рзи</span> ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓</h3>
                <div class="code-box">
                    <button class="copy-btn" onclick="copyCode('cmd1')">Copy</button>
                    <pre id="cmd1">npx expo install react-native-webview expo-file-system expo-sharing</pre>
                </div>
            </div>

            <div class="step">
                <h3><span class="badge">рзй</span> app.json ржХржиржлрж┐ржЧрж╛рж░</h3>
                <p><code>app.json</code> ржлрж╛ржЗрж▓ ржУржкрзЗржи ржХрж░рзЗ рзйржЯрж┐ ржЬрж┐ржирж┐рж╕ ржмржжрж▓рж╛ржи ржПржмржВ рззржЯрж┐ ржЬрж┐ржирж┐рж╕ ржорзБржЫрзБржи:</p>
                <ul>
                    <li><strong>name:</strong> ржЕрзНржпрж╛ржкрзЗрж░ ржирждрзБржи ржирж╛ржо ржжрж┐ржи (ржпрзЗржоржи: "My Shop")</li>
                    <li><strong>slug:</strong> ржЫрзЛржЯ рж╣рж╛рждрзЗрж░ ржирж╛ржо, рж╕рзНржкрзЗрж╕ ржЫрж╛рзЬрж╛ (ржпрзЗржоржи: "my-shop")</li>
                    <li><strong>android.package:</strong> ржЗржЙржирж┐ржХ ржЖржЗржбрж┐ ржжрж┐ржи (ржпрзЗржоржи: "com.myshop.app")</li>
                </ul>
            </div>
        </section>

        <!-- PART 2 -->
        <section class="part">
            <div class="part-header">
                <h2>ЁЯТ╗ ржкрж╛рж░рзНржЯ рзи: ржХрзЛржбрж┐ржВ ржУ рж▓ржЬрж┐ржХ (Main Logic)</h2>
            </div>

            <div class="step">
                <h3><span class="badge">рзк</span> ржЕрзНржпрж╛ржк ржХрзЛржб (app/_layout.tsx)</h3>
                <p>ржкрзБрж░рж╛ржирзЛ ржХрзЛржб ржорзБржЫрзЗ ржПржЗ ржХрзЛржбржЯрж┐ ржжрж┐ржиред <code>WEBSITE_URL</code> ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржнрзБрж▓ржмрзЗржи ржирж╛ред</p>
                <div class="code-box">
                    <button class="copy-btn" onclick="copyCode('appCode')">Copy</button>
                    <pre id="appCode">import React, { useRef } from 'react';
import { SafeAreaView, StatusBar, StyleSheet, Alert, BackHandler } from 'react-native';
import { WebView } from 'react-native-webview';
import * as FileSystem from 'expo-file-system';
import * as Sharing from 'expo-sharing';

export default function App() {
  const webViewRef = useRef(null);
  const WEBSITE_URL = 'https://keshab1997.github.io/Gold_Calculator_pro/';

  React.useEffect(() => {
    const onBackPress = () => {
      if (webViewRef.current) {
        webViewRef.current.goBack();
        return true; 
      }
      return false;
    };
    BackHandler.addEventListener('hardwareBackPress', onBackPress);
    return () => BackHandler.removeEventListener('hardwareBackPress', onBackPress);
  }, []);

  const handleWebViewMessage = async (event) => {
    try {
      const messageData = event.nativeEvent.data;
      let message;
      try { message = JSON.parse(messageData); } catch (e) { return; }

      if (message.type === 'downloadPDF') {
        const base64Code = message.data.split(',')[1];
        const filename = FileSystem.documentDirectory + message.filename;

        await FileSystem.writeAsStringAsync(filename, base64Code, {
          encoding: FileSystem.EncodingType.Base64,
        });

        if (await Sharing.isAvailableAsync()) {
          await Sharing.shareAsync(filename);
        } else {
          Alert.alert("Saved", "File has been saved!");
        }
      }
    } catch (error) {
      console.error("Error:", error);
    }
  };

  return (
    <SafeAreaView style={styles.container}>
      <StatusBar hidden={true} backgroundColor="#000" />
      <WebView
        ref={webViewRef}
        source={{ uri: WEBSITE_URL }}
        style={{ flex: 1 }}
        javaScriptEnabled={true}
        domStorageEnabled={true}
        onMessage={handleWebViewMessage}
        allowFileAccess={true}
      />
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  container: { flex: 1, backgroundColor: '#000' },
});</pre>
                </div>
            </div>

            <div class="step">
                <h3><span class="badge">рзл</span> ржУрзЯрзЗржм рж╕рзНржХрзНрж░рж┐ржкрзНржЯ (script.js)</h3>
                <p>ржЖржкржирж╛рж░ ржУрзЯрзЗржмрж╕рж╛ржЗржЯрзЗрж░ PDF ржбрж╛ржЙржирж▓рзЛржб ржлрж╛ржВрж╢ржиржЯрж┐ ржПржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ ржХрж░рзБржи (Expense Report ржПрж░ ржЬржирзНржп):</p>
                <div class="code-box">
                    <button class="copy-btn" onclick="copyCode('webJs')">Copy</button>
                    <pre id="webJs">// ржкрж┐ржбрж┐ржПржл ржбрж╛ржЙржирж▓рзЛржб ржлрж╛ржВрж╢ржи
window.downloadPDF = function() {
    if (!window.jspdf) return alert("PDF Library missing!");
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    // 1. ржбрж╛ржЯрж╛ ржПржмржВ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗрж╢ржи
    const totalAmount = currentData.reduce((sum, item) => sum + item.amount, 0);
    const fromDate = document.getElementById('fromDate').value;
    const toDate = document.getElementById('toDate').value;
    
    const fmt = (d) => d ? d.split('-').reverse().join('/') : '';
    const dateRangeText = (fromDate && toDate) ? `${fmt(fromDate)} to ${fmt(toDate)}` : `Generated: ${new Date().toLocaleDateString('en-IN')}`;

    // 2. ржкрж┐ржбрж┐ржПржл ржбрж┐ржЬрж╛ржЗржи (Header & Total)
    doc.setFontSize(20); doc.setTextColor(41, 128, 185); doc.text("Expense Report", 14, 20);
    doc.setFontSize(10); doc.setTextColor(100); doc.text(`Period: ${dateRangeText}`, 14, 27);

    doc.setFontSize(11); doc.setTextColor(80); doc.text("Total Expenses:", 196, 18, { align: "right" }); 
    doc.setFontSize(16); doc.setTextColor(220, 38, 38); doc.setFont("helvetica", "bold");
    doc.text(`Rs. ${totalAmount.toLocaleString('en-IN')}`, 196, 26, { align: "right" });
    doc.setFont("helvetica", "normal");

    // 3. ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐
    const tableBody = currentData.map(item => [
        formatDateDisplay(item.date), 
        item.category || 'General', 
        item.payee, 
        item.purpose, 
        `Rs. ${item.amount.toLocaleString('en-IN')}`
    ]);

    doc.autoTable({
        startY: 35,
        head: [['Date', 'Category', 'Payee', 'Purpose', 'Amount']],
        body: tableBody,
        foot: [[ { content: 'Grand Total', colSpan: 4, styles: { halign: 'right', fontStyle: 'bold' } }, { content: `Rs. ${totalAmount.toLocaleString('en-IN')}`, styles: { halign: 'right', fontStyle: 'bold' } } ]],
        theme: 'striped',
        headStyles: { fillColor: [41, 128, 185], halign: 'left', fontStyle: 'bold', valign: 'middle' },
        columnStyles: { 
            0: { cellWidth: 25, halign: 'left' },
            1: { halign: 'left' },
            2: { halign: 'left' },
            3: { halign: 'left' },
            4: { halign: 'right', fontStyle: 'bold' }
        },
        styles: { fontSize: 9, cellPadding: 3, valign: 'middle' }
    });

    // 4. ржбрж╛ржЙржирж▓рзЛржб рж▓ржЬрж┐ржХ (Web vs App)
    if (window.ReactNativeWebView) {
        // ржЕрзНржпрж╛ржкрзЗрж░ ржЬржирзНржп
        const pdfData = doc.output('datauristring');
        window.ReactNativeWebView.postMessage(JSON.stringify({
            type: 'downloadPDF',
            data: pdfData, 
            filename: 'Expense_Report.pdf'
        }));
    } else {
        // ржУрзЯрзЗржмрж╕рж╛ржЗржЯрзЗрж░ ржЬржирзНржп
        doc.save('Expense_Report.pdf');
    }
}</pre>
                </div>
            </div>
        </section>

        <!-- PART 3 -->
        <section class="part">
            <div class="part-header">
                <h2>тШБя╕П ржкрж╛рж░рзНржЯ рзй: рж╕рж╛рж░рзНржнрж╛рж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи</h2>
            </div>

            <div class="step">
                <h3><span class="badge">рзм</span> EAS ржХржиржлрж┐ржЧрж╛рж░</h3>
                <p>ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржПржЗ ржХржорж╛ржирзНржбржЧрзБрж▓рзЛ ржжрж┐ржи:</p>
                <div class="code-box">
                    <button class="copy-btn" onclick="copyCode('easCmd')">Copy</button>
                    <pre id="easCmd">eas login
eas build:configure</pre>
                </div>
                <p style="margin-top:10px;">ржПрж░ржкрж░ <code>eas.json</code> ржлрж╛ржЗрж▓рзЗ <code>preview</code> ржПрж░ ржнрзЗрждрж░ <code>"buildType": "apk"</code> ржмрж╕рж╛ржиред</p>
            </div>

            <div class="step">
                <h3><span class="badge">рзн</span> Keystore рждрзИрж░рж┐ (ржЬрж░рзБрж░рж┐)</h3>
                <p>ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржжрж┐рзЯрзЗ ржПржХржмрж╛рж░ ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ ржмрж┐рж▓рзНржб рж╢рзБрж░рзБ ржХрж░рзБржи ржпрж╛рждрзЗ ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓ рждрзИрж░рж┐ рж╣ржпрж╝:</p>
                <div class="code-box">
                    <button class="copy-btn" onclick="copyCode('keyCmd')">Copy</button>
                    <pre id="keyCmd">eas build --platform android --profile preview</pre>
                </div>
                <div class="alert warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>ржЯрж┐ржкрж╕:</strong> "Generate new Keystore?" ржЪрж╛ржЗрж▓рзЗ <strong>Y</strong> ржЪрж╛ржкрзБржиред ржЖржкрж▓рзЛржб рж╢рзБрж░рзБ рж╣рж▓рзЗ ржмрж╛ ржХрж┐ржЫрзБржХрзНрж╖ржг ржЪрж▓рж╛рж░ ржкрж░ <strong>Ctrl + C</strong> ржжрж┐рзЯрзЗ ржХрзЗржЯрзЗ ржжрж┐ржиред
                </div>
            </div>
        </section>

        <!-- PART 4 -->
        <section class="part">
            <div class="part-header">
                <h2>ЁЯЪА ржкрж╛рж░рзНржЯ рзк: ржЧрж┐ржЯрж╣рж╛ржм ржЕрзНржпрж╛ржХрж╢ржи ржУ ржмрж┐рж▓рзНржб</h2>
            </div>

            <div class="step token-step">
                <h3><span class="badge">рзо</span> ржЯрзЛржХрзЗржи рж╕рзЗржЯржЖржк (GitHub Secrets)</h3>
                <p>GitHub Repo > Settings > Secrets > Actions ржП ржЧрж┐рзЯрзЗ <code>EXPO_TOKEN</code> ржирж╛ржорзЗ ржирж┐ржЪрзЗрж░ ржЯрзЛржХрзЗржиржЯрж┐ ржмрж╕рж╛ржи:</p>
                
                <div class="token-box">
                    <span id="tokenText">RIEpCFmKIN--zP8sdAWM_6BYu6670yzxAfzPbwfd</span>
                    <button class="copy-token-btn" onclick="copyCode('tokenText')">
                        <i class="fas fa-copy"></i> Copy Token
                    </button>
                </div>
            </div>

            <div class="step">
                <h3><span class="badge">рзп</span> Workflow ржлрж╛ржЗрж▓ (YAML)</h3>
                <p><code>.github/workflows/android_build.yml</code> ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЗ ржкрзЗрж╕рзНржЯ ржХрж░рзБржи:</p>
                <div class="code-box">
                    <button class="copy-btn" onclick="copyCode('yamlCode')">Copy</button>
                    <pre id="yamlCode">name: Build Android APK
on: workflow_dispatch
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with: { node-version: 18.x, cache: npm }
      - uses: actions/setup-java@v4
        with: { distribution: 'temurin', java-version: '17' }
      - uses: expo/expo-github-action@v8
        with: { eas-version: latest, token: ${{ secrets.EXPO_TOKEN }} }
      - run: npm install
      - run: eas build --platform android --profile preview --non-interactive --local --output=app-release.apk
      - uses: actions/upload-artifact@v4
        with: { name: my-app-apk, path: app-release.apk }</pre>
                </div>
            </div>

            <div class="step">
                <h3><span class="badge">рззрзж</span> ржЖржкрж▓рзЛржб ржУ ржмрж┐рж▓рзНржб (Updated)</h3>
                <p>Git Error ржПрзЬрж╛рждрзЗ ржирждрзБржи ржмрж╛ржлрж╛рж░ рж╕рзЗржЯрж┐ржВрж╕ рж╕рж╣ ржХржорж╛ржирзНржбржЧрзБрж▓рзЛ рж░рж╛ржи ржХрж░рзБржи:</p>
                <div class="code-box">
                    <button class="copy-btn" onclick="copyCode('gitCmd')">Copy</button>
                    <pre id="gitCmd">git init
git config --global http.postBuffer 524288000
git add .
git commit -m "Final Build"
git branch -M main
git remote remove origin
git remote add origin https://github.com/USER/REPO.git
git push -u origin main</pre>
                </div>
                <p class="success-text">
                    тЬЕ ржПрж░ржкрж░ GitHub Actions ржЯрзНржпрж╛ржмрзЗ ржЧрж┐рзЯрзЗ <strong>Run Workflow</strong> ржжрж┐ржиред рззрзл ржорж┐ржирж┐ржЯ ржкрж░ APK рж░рзЗржбрж┐!
                </p>
            </div>
        </section>

        <footer>
            <p>Master Guide Generated for Production</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
